{"id":"ultrawave-0dc","title":"Setup GitHub repository in EphemeralDSP account","description":"Create and configure the ultrawave GitHub repository under the EphemeralDSP organization using gh CLI.\n\n## Prerequisites\n- Ensure gh CLI is installed and authenticated to EphemeralDSP account\n\n## Steps\n\n### 1. Authenticate gh CLI\n```bash\ngh auth login\n# Select GitHub.com\n# Select HTTPS\n# Authenticate with browser or token\n```\n\n### 2. Create Repository\n```bash\ngh repo create EphemeralDSP/ultrawave \\\n  --public \\\n  --description \"VST/CLAP plugin emulating Elektron Machinedrum UW RAM machines\" \\\n  --license MIT \\\n  --gitignore Rust\n```\n\n### 3. Configure Repository Settings\n```bash\n# Enable issues\ngh repo edit EphemeralDSP/ultrawave --enable-issues\n\n# Add topics for discoverability\ngh repo edit EphemeralDSP/ultrawave --add-topic vst --add-topic clap --add-topic audio-plugin --add-topic rust --add-topic dsp --add-topic elektron --add-topic sampler\n```\n\n### 4. Link Local Repository to Remote\n```bash\ngit remote add origin https://github.com/EphemeralDSP/ultrawave.git\ngit branch -M main\ngit push -u origin main\n```\n\n### 5. Create Initial Labels for Issues\n```bash\ngh label create \"P0-critical\" --color \"b60205\" --description \"Critical priority\"\ngh label create \"P1-high\" --color \"d93f0b\" --description \"High priority\"  \ngh label create \"P2-medium\" --color \"fbca04\" --description \"Medium priority\"\ngh label create \"P3-low\" --color \"0e8a16\" --description \"Low priority\"\ngh label create \"dsp\" --color \"1d76db\" --description \"DSP/audio processing\"\ngh label create \"plugin-framework\" --color \"5319e7\" --description \"VST/CLAP framework\"\ngh label create \"gui\" --color \"f9d0c4\" --description \"GUI/interface\"\n```\n\n## Acceptance Criteria\n- [ ] gh CLI authenticated to EphemeralDSP account\n- [ ] Repository created at github.com/EphemeralDSP/ultrawave\n- [ ] Repository is public with MIT license\n- [ ] Topics added for discoverability\n- [ ] Local repo linked to remote origin\n- [ ] Initial push successful (all existing commits on GitHub)\n- [ ] Issue labels created for project management\n- [ ] `git status` shows \"up to date with origin/main\"","status":"closed","priority":0,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","created_at":"2026-01-15T10:12:16.622838-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T13:45:55.7417128-05:00","closed_at":"2026-01-15T13:45:55.7417128-05:00","close_reason":"Closed"}
{"id":"ultrawave-0gj","title":"Research Elektron Machinedrum UW and Octatrack sample machines","description":"Analyze the technical specifications, parameter ranges, and behavior of Elektron Machinedrum UW record/playback machines and Octatrack sample machines. Document key features like sample start/stop points, pitch control, time-stretching, filters, effects chains, LFO modulation, and parameter ranges for accurate emulation.","acceptance_criteria":"Complete technical documentation of all machine parameters, parameter ranges, and behavioral characteristics. Include audio processing chain diagrams and parameter mapping tables.","status":"closed","priority":1,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":480,"created_at":"2026-01-14T22:08:26.8537591-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T00:08:07.1882925-05:00","closed_at":"2026-01-15T00:08:07.1882925-05:00","dependencies":[{"issue_id":"ultrawave-0gj","depends_on_id":"ultrawave-vzo","type":"blocks","created_at":"2026-01-14T22:08:26.855875-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-148","title":"Implement RAM RECORD recording logic","description":"Implement the recording engine for RAM RECORD machines (R1-R4) per ELEKTRON appendix A-15.\n\n## RAM RECORD Parameters (ELEKTRON A-15)\n\n| Parameter | Range | Description |\n|-----------|-------|-------------|\n| MLEV | 0-127 | Main output level (internal sound) |\n| MBAL | 0-127 | Main balance (mono recording) |\n| ILEV | 0-127 | External input level |\n| IBAL | 0-127 | Input balance |\n| CUE1 | 0-127 | Pre-listening level (main/external) |\n| CUE2 | 0-127 | Pre-listening level (recording trigger) |\n| LEN | 0-127 | Recording duration (127 = 2 bars = 384 steps) |\n| RATE | 0-127 | Recording quality (127 = 44.1kHz) |\n\n## Recording Flow\n\n1. **On MIDI Note-On**: Start recording\n2. **Mix sources**: `output = (main * MLEV) + (input * ILEV)`\n3. **Apply RATE**: Decimate to target sample rate\n4. **Write to buffer**: Circular buffer, wrap on overflow\n5. **Stop**: When LEN reached or new trigger\n\n## Buffer Management\n\n```rust\npub struct RamRecordMachine {\n    buffer: Vec\u003cf32\u003e,           // Pre-allocated (2 bars @ 44.1kHz ≈ 176k samples)\n    write_position: usize,\n    recording: bool,\n    samples_recorded: usize,\n    max_samples: usize,         // Based on LEN parameter\n}\n```\n\n## RATE Parameter (Sample Rate Reduction)\n\n```rust\nfn get_sample_rate(rate_param: u8) -\u003e f32 {\n    // rate=127 → 44100Hz, rate=0 → 4000Hz\n    4000.0 + (rate_param as f32 / 127.0) * (44100.0 - 4000.0)\n}\n```\n\n## Acceptance Criteria\n\n- [ ] Recording starts on MIDI note-on\n- [ ] Recording stops after LEN duration\n- [ ] MLEV correctly scales main output level\n- [ ] ILEV correctly scales external input level\n- [ ] MBAL/IBAL implement mono summing with balance\n- [ ] RATE=127 records at full quality (no decimation artifacts)\n- [ ] RATE=64 records at ~24kHz (audible quality reduction)\n- [ ] RATE=0 records at ~4kHz (extreme lo-fi)\n- [ ] LEN=127 records 2 bars at current tempo\n- [ ] Re-trigger (new note) restarts recording from position 0\n- [ ] Buffer does not overflow (wraps or stops)\n- [ ] No audio glitches during recording start/stop\n- [ ] CUE1/CUE2 provide monitoring output (separate bus)","status":"open","priority":1,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","created_at":"2026-01-15T10:15:20.3701418-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T21:53:00.7508641-05:00","dependencies":[{"issue_id":"ultrawave-148","depends_on_id":"ultrawave-hjm","type":"blocks","created_at":"2026-01-15T10:16:26.4094549-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-1uf","title":"Implement time-stretching and pitch shifting","description":"Implement time-stretching and pitch shifting for RAM PLAY machines.\n\n## Important Note\nPer technical_specs.md: **Machinedrum UW does NOT have dedicated time-stretch algorithms.** Time-stretching effects are achieved through:\n- Sample rate manipulation (SR/PITCH parameter)\n- LFO modulation of playback parameters\n- Parameter locks (P-locks) on STRT parameter\n\n## Implementation Approach\n\n### 1. Primary Method: Sample Rate Manipulation\n- PITCH parameter (0-127) controls playback speed\n- PITCH=64 = original speed\n- PITCH=127 = ~2x speed (octave up)\n- PITCH=0 = ~0.25x speed (2 octaves down)\n\n### 2. LFO-Based Time Effects\n- LFO modulating STRT creates \"swimming\" effect\n- LFO modulating PITCH creates vibrato/wow\n\n### 3. P-Lock Technique (for future sequencer)\n- Place trigs with different STRT values\n- RTRG + RTIM for tempo-locked loops\n- Document this technique for users\n\n## Optional: Phase Vocoder (enhanced mode)\nIf implementing enhanced time-stretch:\n- NORMAL algorithm: Standard phase vocoder\n- BEAT algorithm: Transient-preserving vocoder\n- OFF: Pure sample rate method (authentic)\n\n## Acceptance Criteria\n- [ ] PITCH parameter affects playback rate correctly\n- [ ] Pitch range covers at least 2 octaves up/down\n- [ ] Linear interpolation maintains quality\n- [ ] LFO modulation of PITCH works smoothly\n- [ ] LFO modulation of STRT creates intended effect\n- [ ] Documentation explains authentic technique\n- [ ] Optional phase vocoder (if implemented)","acceptance_criteria":"Time-stretching works across reasonable ranges without significant artifacts. Pitch shifting maintains audio quality. Formant preservation option functions correctly. Processing latency is acceptable for real-time use.","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":600,"created_at":"2026-01-14T22:08:53.3773604-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:19:54.1231906-05:00","dependencies":[{"issue_id":"ultrawave-1uf","depends_on_id":"ultrawave-mho","type":"blocks","created_at":"2026-01-14T22:08:53.380038-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-3ei","title":"Implement preset management system","description":"Implement the preset management system for saving/loading plugin state.\n\n## Preset Data Structure\n```rust\nstruct Preset {\n    name: String,\n    version: u32,\n    machines: [MachineState; 8],  // R1-R4, P1-P4\n    // Note: Sample data NOT included in presets\n}\n```\n\n## Features Required\n\n### 1. Factory Presets\n- 10-20 curated starting points\n- Demonstrating key capabilities\n- Read-only (bundled with plugin)\n\n### 2. User Presets\n- Save current state to file\n- Load from file\n- Organize in folders\n\n### 3. DAW Integration\n- State saved in DAW project (nih-plug handles this)\n- Parameter automation recall\n- A/B comparison (optional)\n\n## File Format\n- JSON for human-readable presets\n- Binary option for large sample buffers (optional)\n\n## Technical Requirements\n- Preset loading must not cause audio glitches\n- Version migration for future compatibility\n- Validate preset files before loading\n\n## Acceptance Criteria\n- [ ] Save preset to JSON file\n- [ ] Load preset from JSON file\n- [ ] Factory presets bundled\n- [ ] Preset browser UI integration\n- [ ] No audio glitches during preset load\n- [ ] Invalid preset files handled gracefully\n- [ ] Version field for future migration","acceptance_criteria":"Factory presets showcase plugin capabilities. User can create, save, and load presets reliably. Import/export works across platforms. Search and organization features are efficient. Preset loading is instantaneous.","status":"open","priority":3,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":240,"created_at":"2026-01-14T22:09:29.6512729-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:19:07.699514-05:00","dependencies":[{"issue_id":"ultrawave-3ei","depends_on_id":"ultrawave-atm","type":"blocks","created_at":"2026-01-14T22:09:29.6530308-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-3fu","title":"Implement RAM machine shared memory buffer system","description":"Implement the shared DSP memory system for RAM machines as specified in ELEKTRON appendix A-15.\n\n## Requirements\n- Create shared memory pool for RAM machine audio buffers\n- Support 4 independent recording buffers (R1-R4)\n- Support 4 independent playback buffers (P1-P4)\n- Implement memory allocation tracking (used/available)\n- Handle memory exhaustion gracefully (as per RATE parameter behavior)\n\n## Implementation Details\n- Default buffer size: 2 bars at 44.1kHz (approximately 2.5MB total)\n- Buffer format: mono 12-bit (stored as i16)\n- Thread-safe access for concurrent record/playback\n\n## Acceptance Criteria\n- [ ] SharedMemory struct created with configurable pool size\n- [ ] allocate_buffer() returns buffer handle or error when full\n- [ ] deallocate_buffer() properly frees memory\n- [ ] get_memory_usage() returns percentage used\n- [ ] Unit tests pass for allocation/deallocation\n- [ ] Memory access is thread-safe (no data races)","status":"open","priority":1,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","created_at":"2026-01-15T10:14:38.2049766-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:14:38.2049766-05:00","dependencies":[{"issue_id":"ultrawave-3fu","depends_on_id":"ultrawave-b61","type":"blocks","created_at":"2026-01-15T10:16:17.4521086-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-425","title":"Implement UI screenshot testing infrastructure","description":"Set up automated UI verification via programmatic plugin launch and screenshot capture.","status":"open","priority":3,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":240,"created_at":"2026-01-15T22:56:06.2038907-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T22:57:03.0896705-05:00","dependencies":[{"issue_id":"ultrawave-425","depends_on_id":"ultrawave-atm","type":"parent-child","created_at":"2026-01-15T22:57:07.4551838-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-428","title":"Implement basic VST/CLAP plugin framework","description":"Implement the basic nih-plug plugin scaffold with parameters, audio processing callback, and VIZIA GenericUi.\n\n## Implementation Requirements\n\n### Plugin Struct\n```rust\n#[derive(Default)]\npub struct Ultrawave {\n    params: Arc\u003cUltrawaveParams\u003e,\n    sample_rate: f32,\n    // RAM buffers, machine state, etc.\n}\n\nimpl Plugin for Ultrawave {\n    const NAME: \u0026'static str = \"Ultrawave\";\n    const VENDOR: \u0026'static str = \"EphemeralDSP\";\n    const URL: \u0026'static str = \"https://github.com/EphemeralDSP/ultrawave\";\n    const EMAIL: \u0026'static str = \"\";\n    const VERSION: \u0026'static str = env!(\"CARGO_PKG_VERSION\");\n    const AUDIO_IO_LAYOUTS: \u0026'static [AudioIOLayout] = \u0026[\n        AudioIOLayout {\n            main_input_channels: NonZeroU32::new(2),\n            main_output_channels: NonZeroU32::new(2),\n            ..AudioIOLayout::const_default()\n        },\n    ];\n    const MIDI_INPUT: MidiConfig = MidiConfig::Basic;\n    const SAMPLE_ACCURATE_AUTOMATION: bool = true;\n}\n```\n\n### GUI Setup\n- Use VIZIA GenericUi for MVP (auto-generated from Params)\n- Reserve custom GUI for post-MVP iteration\n\n### Parameter Groups\n- RAM RECORD (MLEV, MBAL, ILEV, IBAL, CUE1, CUE2, LEN, RATE)\n- RAM PLAY (STRT, END, PITCH, HOLD, DEC, RTRG, RTIM)\n- Filter (FLTF, FLTQ, FLTW)\n- Output (VOL, PAN)\n\n## Acceptance Criteria\n\n- [ ] Plugin compiles and exports both CLAP and VST3 formats\n- [ ] Plugin loads in Ableton Live without crash\n- [ ] Plugin loads in Reaper without crash\n- [ ] Plugin loads in Bitwig without crash\n- [ ] VIZIA GenericUi displays all parameters\n- [ ] Parameters can be automated from DAW\n- [ ] MIDI notes are received (logged to debug output)\n- [ ] Audio passthrough works (input → output)\n- [ ] `clap-validator validate ultrawave.clap` passes\n- [ ] `pluginval --strictness-level 5 ultrawave.vst3` passes","acceptance_criteria":"Plugin successfully loads in major DAWs (Ableton Live, Logic Pro, Reaper). Basic parameter controls visible and functional. MIDI note triggering works. Plugin passes basic validation tests.","status":"in_progress","priority":0,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":480,"created_at":"2026-01-14T22:08:37.0906621-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T22:59:42.4069109-05:00","dependencies":[{"issue_id":"ultrawave-428","depends_on_id":"ultrawave-s7m","type":"blocks","created_at":"2026-01-14T22:08:37.0928586-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-539","title":"Implement RAM PLAY playback engine","description":"Implement the playback engine for RAM PLAY machines (P1-P4) functioning exactly like ROM machines 25-48.\n\n## RAM PLAY Parameters (ROM 25-48 Compatible)\n\n| Parameter | Range | Description |\n|-----------|-------|-------------|\n| STRT | 0-127 | Sample start position |\n| END | 0-127 | Sample end position |\n| RTRG | 0-127 | Retrigger time |\n| RTIM | 0-127 | Retrigger count |\n| PITCH | 0-127 | Playback speed (64 = original) |\n| DEC | 0-127 | Decay amount |\n| HOLD | 0-127 | Hold time |\n| BRR | 0-127 | Bit rate reduction (SRR) |\n\n## Playback Engine\n\n```rust\npub struct RamPlayMachine {\n    source_buffer: Arc\u003cVec\u003cf32\u003e\u003e,  // Reference to RAM RECORD buffer\n    position: f64,\n    rate: f64,\n    start_sample: usize,\n    end_sample: usize,\n    playing: bool,\n    envelope: AdsrEnvelope,\n}\n\nimpl RamPlayMachine {\n    pub fn trigger(\u0026mut self) {\n        self.position = self.start_sample as f64;\n        self.playing = true;\n        self.envelope.trigger();\n    }\n\n    pub fn process(\u0026mut self) -\u003e f32 {\n        if !self.playing { return 0.0; }\n\n        // Linear interpolation\n        let output = self.interpolate_at(self.position);\n\n        // Apply BRR (bit rate reduction)\n        let output = self.apply_brr(output);\n\n        // Apply envelope\n        let output = output * self.envelope.get_level();\n\n        // Advance position\n        self.position += self.rate;\n        if self.position \u003e= self.end_sample as f64 {\n            self.playing = false;\n        }\n\n        output\n    }\n}\n```\n\n## Buffer Mapping (P1→R1, P2→R2, etc.)\n\n- P1 plays from R1's buffer\n- P2 plays from R2's buffer\n- P3 plays from R3's buffer\n- P4 plays from R4's buffer\n\n## Acceptance Criteria\n\n- [ ] P1 reads from R1 buffer, P2 from R2, etc.\n- [ ] STRT 0 = buffer start, STRT 127 = buffer end\n- [ ] END correctly limits playback region\n- [ ] PITCH 64 = original speed (1.0x)\n- [ ] PITCH 127 ≈ 2x speed\n- [ ] PITCH 0 ≈ 0.5x speed\n- [ ] RTRG/RTIM create stutter/repeat effects\n- [ ] BRR 0 = clean, BRR 127 = extreme lo-fi (2-bit feel)\n- [ ] HOLD controls sustain duration\n- [ ] DEC controls decay time\n- [ ] Linear interpolation (no aliasing artifacts)\n- [ ] Empty buffer plays silence (no crash)\n- [ ] Trigger on MIDI note-on\n- [ ] Envelope applies smoothly (no clicks)","status":"open","priority":1,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","created_at":"2026-01-15T10:15:42.9072883-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T21:53:17.3984796-05:00","dependencies":[{"issue_id":"ultrawave-539","depends_on_id":"ultrawave-t2i","type":"blocks","created_at":"2026-01-15T10:16:31.3248982-05:00","created_by":"Jeff Lynn"},{"issue_id":"ultrawave-539","depends_on_id":"ultrawave-148","type":"blocks","created_at":"2026-01-15T10:16:32.0156457-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-58d","title":"Implement effects chains and processors","description":"Implement the track effects chain as specified in ELEKTRON Machinedrum UW.\n\n## Track Effects (5 concurrent per voice)\n\n### 1. Amplitude Modulation (AMM)\n- Depth: 0-127\n- Rate: 0-127 (tempo-synced)\n- Ring modulation character\n\n### 2. 1-Band EQ\n- Frequency: 0-127 (20Hz-20kHz)\n- Gain: 0-127 (-12dB to +12dB)\n- Peak/shelf modes\n\n### 3. Sample Rate Reduction (SRR)\n- Amount: 0-127\n- Reduces effective sample rate (44.1kHz → 4kHz)\n- Creates lo-fi/bitcrushed character\n- Implementation: sample-and-hold\n\n### 4. Distortion (DIST)\n- Drive: 0-127\n- Gain: 0-127 (makeup gain)\n- Waveshaping algorithm (tanh or soft-clip)\n\n### 5. Resonant Filter (separate task ultrawave-d6n)\n\n## Effect Processing Order\n```\nInput → AMM → EQ → Filter → SRR → Distortion → Output\n```\n\n## Technical Requirements\n- All effects bypassable\n- Parameters smoothed\n- No inter-effect aliasing\n\n## Acceptance Criteria\n- [ ] AMM implements ring modulation\n- [ ] EQ provides ±12dB boost/cut\n- [ ] SRR creates authentic lo-fi sound\n- [ ] Distortion provides warm overdrive\n- [ ] Effects chain order matches ELEKTRON\n- [ ] All effects can be bypassed individually\n- [ ] CPU usage \u003c 2% for full chain","acceptance_criteria":"All effects process audio correctly without artifacts. Effects routing is flexible and intuitive. Tempo-sync works properly with DAW. CPU usage stays within acceptable limits for multiple instances.","status":"open","priority":3,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":480,"created_at":"2026-01-14T22:09:02.8972541-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:18:12.8784608-05:00","dependencies":[{"issue_id":"ultrawave-58d","depends_on_id":"ultrawave-b61","type":"blocks","created_at":"2026-01-14T22:09:02.8988398-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-9j5","title":"Implement RAM RECORD and RAM PLAY machines with exact ELEKTRON appendix A-15 specifications","description":"Implement the core RAM RECORD (R1-R4) and RAM PLAY (P1-P4) machines exactly as specified in ELEKTRON appendix A-15. This includes all parameters, behaviors, and the complete recording/playback workflow tutorial.\n\n## RAM RECORD Machines (R1-R4) Implementation:\n- **MLEV (Main Level)**: Sets level of internal sound from Main outputs\n  - Range: 0-127\n  - Behavior: 0 = record 'as is', positive = increase volume, negative = decrease volume\n- **MBAL (Main Balance)**: Monophonic recording balance from Main outputs\n  - Range: 0-127\n  - Purpose: Controls stereo balance when recording monophonically\n- **ILEV (Input Level)**: Sets level from external inputs\n  - Range: 0-127  \n  - Behavior: 0 = record 'as is', positive = increase volume, negative = decrease volume\n- **IBAL (Input Balance)**: Monophonic recording balance from external inputs\n  - Range: 0-127\n  - Purpose: Controls stereo balance for external input recording\n- **CUE1**: Pre-listening level for Main/external inputs\n  - Range: 0-127\n  - Warning: Can generate feedback if set too high\n- **CUE2**: Pre-listening level for recording trigger\n  - Range: 0-127\n  - Purpose: Monitor what will be recorded when RAM RECORD is triggered\n- **LEN (Length)**: Recording duration\n  - Range: 0-127\n  - Behavior: 127 = 2 bars, each parameter step = 1/64 step\n  - DSP Memory: Lower values save DSP memory when running low\n- **RATE**: Recording quality control\n  - Range: 0-127\n  - Behavior: Lower values = lower quality, saves DSP memory\n\n## RAM PLAY Machines (P1-P4) Implementation:\n- **Functionality**: Must function EXACTLY like ROM machines 25-48\n- **Complete Parameter Set**:\n  - Start (0-127): Linear start point in sample\n  - End (0-127): Linear end point in sample\n  - Length (0-127): Playback duration\n  - Hold (0-127): Sample sustain/decay time\n  - Sample Rate (0-127): Playback speed/pitch\n  - Decay (0-127): Sample envelope\n  - Trigger (0-127): When sample plays\n  - Repeats (0-127): Number of repeats\n\n## Tutorial Workflow Implementation:\nImplement the complete ELEKTRON appendix A-15 tutorial workflow:\n1. Recording from Main outputs with MLEV=0, ILEV=-64\n2. LEN=64 and RATE=127 for 1-bar maximum quality capture\n3. Parameter-locked STRT manipulation (value 16 example)\n4. Real-time recording and playback with CUE monitoring\n5. RAM RECORD machine captures both internal and external sounds\n6. RAM PLAY machine plays back corresponding RAM RECORD capture\n\n## Technical Requirements:\n- 4 RAM RECORD machines (R1-R4) for capturing sound\n- 4 RAM PLAY machines (P1-P4) for playback\n- Shared DSP memory management (mentioned in appendix)\n- Sample-accurate timing for recording triggers\n- Real-time parameter updates during recording/playback\n- Integration with existing track effects and modulation system\n- Proper DSP memory allocation and management\n\n## Acceptance Criteria:\n- All 8 RAM machines (4 RECORD + 4 PLAY) implement exact appendix A-15 parameter behavior\n- Tutorial workflow works identically to ELEKTRON hardware\n- RAM PLAY machines function exactly like ROM machines 25-48\n- All parameter ranges and behaviors match hardware specifications\n- DSP memory management prevents crashes when memory is low\n- CUE monitoring system provides real-time feedback\n- Parameter locks and modulation work correctly with all RAM parameters","status":"closed","priority":1,"issue_type":"task","assignee":"4128043+jefffm@users.noreply.github.com","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":600,"created_at":"2026-01-15T09:41:33.6637309-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:13:22.5828198-05:00","closed_at":"2026-01-15T10:13:22.5828198-05:00","close_reason":"Breaking down into smaller executable tasks","dependencies":[{"issue_id":"ultrawave-9j5","depends_on_id":"ultrawave-vzo","type":"parent-child","created_at":"2026-01-15T09:41:44.5159176-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-atm","title":"Design and implement GUI interface","description":"Design and implement GUI interface using VIZIA framework.\n\n## Implementation Phases\n\n### Phase 1: GenericUi (MVP)\n- Use nih_plug_vizia::widgets::GenericUi\n- Auto-generated UI from Params struct\n- Sufficient for testing and validation\n\n### Phase 2: Custom Elektron-Inspired Theme\n- Dark background (#1a1a1a)\n- Elektron-style green accent (#00ff88)\n- Monospace font (JetBrains Mono or similar)\n- Parameter knobs with arc indicators\n\n### Phase 3: Full Custom GUI\n- Waveform display for RAM buffers\n- Recording/playback status indicators\n- Machine selector (R1-R4, P1-P4)\n- Preset browser\n\n## VIZIA Widget Requirements\n\n```rust\nuse nih_plug_vizia::vizia::prelude::*;\nuse nih_plug_vizia::widgets::{ParamSlider, ParamButton, PeakMeter};\n\nfn create_gui(cx: \u0026mut Context, params: Arc\u003cUltrawaveParams\u003e) {\n    VStack::new(cx, |cx| {\n        // Machine selector\n        HStack::new(cx, |cx| {\n            for machine in [\"R1\", \"R2\", \"R3\", \"R4\", \"P1\", \"P2\", \"P3\", \"P4\"] {\n                ParamButton::new(cx, params.clone(), |p| \u0026p.machine_select);\n            }\n        });\n\n        // Parameter knobs grid\n        HStack::new(cx, |cx| {\n            ParamSlider::new(cx, params.clone(), |p| \u0026p.strt);\n            ParamSlider::new(cx, params.clone(), |p| \u0026p.end);\n            ParamSlider::new(cx, params.clone(), |p| \u0026p.pitch);\n        });\n    });\n}\n```\n\n## CSS Theme (Elektron Style)\n\n```css\n* {\n    background-color: #1a1a1a;\n    color: #e0e0e0;\n    font-family: \"JetBrains Mono\", \"Courier New\", monospace;\n}\n\n.knob {\n    width: 56px;\n    height: 56px;\n    border-radius: 50%;\n    border: 2px solid #333;\n}\n\n.knob .track {\n    background-color: #00ff88;\n}\n\n.machine-button {\n    padding: 8px 16px;\n    background-color: #2a2a2a;\n    border: 1px solid #444;\n}\n\n.machine-button:checked {\n    background-color: #00ff88;\n    color: #000;\n}\n```\n\n## Acceptance Criteria\n\n### Phase 1 (MVP)\n- [ ] GenericUi displays all parameters\n- [ ] Parameters respond to mouse/keyboard input\n- [ ] Plugin window opens without crash\n- [ ] Window is resizable\n- [ ] UI updates when parameters change from DAW automation\n\n### Phase 2 (Post-MVP)\n- [ ] Custom dark theme applied\n- [ ] Elektron-style knob widgets\n- [ ] Parameter labels visible\n- [ ] Consistent spacing and alignment\n\n### Phase 3 (Post-MVP)\n- [ ] Waveform display shows RAM buffer contents\n- [ ] Recording indicator (red dot when recording)\n- [ ] Playback position indicator\n- [ ] Preset browser functional","acceptance_criteria":"GUI is responsive and intuitive. All parameters are accessible from interface. Visual feedback is accurate and helpful. Interface scales properly on different screen sizes. Performance is acceptable for smooth interaction.","status":"open","priority":3,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":600,"created_at":"2026-01-14T22:09:24.8939121-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T21:53:36.5826946-05:00","dependencies":[{"issue_id":"ultrawave-atm","depends_on_id":"ultrawave-428","type":"blocks","created_at":"2026-01-14T22:09:24.8959909-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-b61","title":"Design audio processing architecture","description":"Design the core audio processing architecture based on technical_specs.md and ELEKTRON appendix A-15.\n\n## Deliverables\n\n### 1. Architecture Document (docs/architecture.md)\n- Signal flow diagram (ASCII or mermaid)\n- Component interaction diagram\n- Data flow for recording and playback\n\n### 2. Core Data Structures (src/dsp/types.rs)\n```rust\n// Sample buffer representation\nstruct SampleBuffer { /* ... */ }\n\n// Machine state\nenum MachineType { RamRecord, RamPlay }\nstruct MachineState { /* ... */ }\n\n// Parameter smoothing\nstruct SmoothedParam { /* ... */ }\n```\n\n### 3. Processing Chain Design\n```\nInput → RAM RECORD → Buffer → RAM PLAY → Track Effects → Output\n                                              ↓\n                                      Filter/SRR/Distortion\n```\n\n### 4. Memory Layout Plan\n- Shared buffer pool sizing\n- Per-machine allocation strategy\n- Thread-safety approach\n\n## Technical Decisions Required\n- [ ] Buffer format: 12-bit stored as i16 vs native f32\n- [ ] Interpolation: Linear (authentic) vs Sinc (quality)\n- [ ] Parameter smoothing time constant (1-5ms recommended)\n- [ ] LFO rate table implementation approach\n\n## Acceptance Criteria\n- [ ] Architecture document created in docs/architecture.md\n- [ ] Signal flow diagram covers full recording/playback path\n- [ ] Data structure definitions documented with Rust types\n- [ ] Memory allocation strategy defined\n- [ ] Processing order for track effects defined\n- [ ] Thread-safety approach documented\n- [ ] Technical decisions logged with rationale","acceptance_criteria":"Complete architectural design document with detailed component diagrams, data structure definitions, and processing chain specifications. Approved design review meeting completion.","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":360,"created_at":"2026-01-14T22:08:31.9680932-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T22:59:18.6191561-05:00","dependencies":[{"issue_id":"ultrawave-b61","depends_on_id":"ultrawave-s7m","type":"blocks","created_at":"2026-01-14T22:08:31.9702406-05:00","created_by":"Jeff Lynn"},{"issue_id":"ultrawave-b61","depends_on_id":"ultrawave-0gj","type":"blocks","created_at":"2026-01-14T22:08:31.9728725-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-d6n","title":"Implement multi-mode filter system","description":"Implement the 24dB multi-mode resonant filter system matching Machinedrum UW behavior.\n\n## Technical Specification\n\n### Filter Topology\nUse **synfx-dsp** Stilson/Moog 24dB ladder filter:\n- 4-pole design (24dB/octave slope)\n- Self-oscillation at high resonance\n- Saturation/drive at high input levels\n\n### Filter Modes\n- **LP (Low-pass)**: Default, most common for bass/drums\n- **BP (Band-pass)**: Vocal-like resonance\n- **HP (High-pass)**: Remove low end, add presence\n\n### Parameter Mapping\n\n| Parameter | Range | Mapping |\n|-----------|-------|---------|\n| FLTF (Cutoff) | 0-127 | 20Hz → 20kHz (exponential) |\n| FLTQ (Resonance) | 0-127 | 0.5 → 20.0 Q factor |\n| FLTW (Width/Drive) | 0-127 | Drive amount (0 = clean) |\n\n### Cutoff Frequency Mapping\n```rust\n// Exponential mapping for musical response\nfn param_to_freq(param: u8) -\u003e f32 {\n    20.0 * (1000.0_f32).powf(param as f32 / 127.0)\n    // param=0 → 20Hz, param=127 → 20kHz\n}\n```\n\n### Implementation with synfx-dsp\n```rust\nuse synfx_dsp::filt_moog::MoogFilter;\n\nlet mut filter = MoogFilter::new(sample_rate);\nfilter.set_cutoff(cutoff_hz);\nfilter.set_resonance(resonance);\n\nfor sample in buffer.iter_mut() {\n    *sample = filter.process(*sample);\n}\n```\n\n## Acceptance Criteria\n\n- [ ] Filter provides LP/BP/HP modes\n- [ ] FLTF 0 → ~20Hz cutoff (±20%)\n- [ ] FLTF 127 → ~20kHz cutoff (±20%)\n- [ ] FLTQ 127 causes audible self-oscillation\n- [ ] Filter slope measures ~24dB/octave (±3dB)\n- [ ] No zipper noise when sweeping cutoff (use smoothing)\n- [ ] Parameter smoothing uses ~5ms time constant\n- [ ] Unit test: impulse response matches expected -24dB/octave\n- [ ] CPU usage \u003c 0.3% per filter instance\n- [ ] Works correctly at 44.1kHz, 48kHz, 96kHz sample rates","acceptance_criteria":"All filter modes function correctly. Resonance and drive parameters work as expected. Filter envelope is smooth and predictable. Filter sound closely matches Elektron character. CPU usage remains reasonable.","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":300,"created_at":"2026-01-14T22:08:58.0085065-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T21:52:42.4229969-05:00","dependencies":[{"issue_id":"ultrawave-d6n","depends_on_id":"ultrawave-b61","type":"blocks","created_at":"2026-01-14T22:08:58.010084-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-hjm","title":"Implement RAM RECORD machine parameters","description":"Implement all RAM RECORD (R1-R4) parameters exactly as specified in ELEKTRON appendix A-15.\n\n## Parameters to Implement\n| Parameter | Range | Description |\n|-----------|-------|-------------|\n| MLEV | 0-127 | Main outputs level (0=as-is) |\n| MBAL | 0-127 | Main outputs stereo balance |\n| ILEV | 0-127 | External input level (0=as-is) |\n| IBAL | 0-127 | External input stereo balance |\n| CUE1 | 0-127 | Pre-listen level for inputs |\n| CUE2 | 0-127 | Pre-listen level for recording |\n| LEN | 0-127 | Recording length (127=2 bars, each step=1/64 step) |\n| RATE | 0-127 | Recording quality (lower=lower quality, saves memory) |\n\n## Implementation Details\n- Use nih_plug FloatParam with 0-127 range\n- Parameters must be smoothed to avoid clicks\n- RATE affects sample rate reduction during recording\n- LEN calculation: duration = (len_value / 127) * 2_bars\n\n## Acceptance Criteria\n- [ ] RamRecordParams struct with all 8 parameters\n- [ ] All parameters exposed to DAW automation\n- [ ] Parameter smoothing applied (no clicks)\n- [ ] Default values match ELEKTRON specs\n- [ ] Parameter ranges exactly match 0-127","status":"open","priority":1,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","created_at":"2026-01-15T10:15:05.8688836-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:15:05.8688836-05:00","dependencies":[{"issue_id":"ultrawave-hjm","depends_on_id":"ultrawave-3fu","type":"blocks","created_at":"2026-01-15T10:16:24.0489053-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-i4g","title":"Successfully installed Beads memory tool","description":"Install and configure Beads for persistent AI memory across coding sessions","status":"closed","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","created_at":"2026-01-14T21:58:15.1000658-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:20:01.469788-05:00","closed_at":"2026-01-15T10:20:01.469788-05:00","close_reason":"Meta-task, not actual work"}
{"id":"ultrawave-lme","title":"Implement CUE monitoring system for RAM machines","description":"Implement the CUE1 and CUE2 pre-listening system for RAM machines.\n\n## CUE System Purpose\n- CUE1: Pre-listen to Main outputs + External inputs BEFORE recording\n- CUE2: Pre-listen to what will be captured when recording triggers\n\n## Implementation\n- CUE output routes to separate monitoring bus (or headphone output)\n- CUE1 level controls input monitoring volume\n- CUE2 level controls recording preview volume\n- Warning: High CUE1 can create feedback loops\n\n## Signal Flow\n```\nMain Outputs ─┬─► MLEV/MBAL ─┬─► Recording Buffer\n              │              │\nExternal In ──┼─► ILEV/IBAL ─┤\n              │              │\n              ├─► CUE1 ──────┼─► CUE Output Bus\n              └─► CUE2 ──────┘\n```\n\n## Acceptance Criteria\n- [ ] CUE1 allows pre-listening of inputs before recording\n- [ ] CUE2 allows hearing what will be recorded on trigger\n- [ ] CUE output separate from main output\n- [ ] No feedback loops at reasonable CUE levels\n- [ ] CUE levels smoothly adjustable (no clicks)","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","created_at":"2026-01-15T10:15:51.2597806-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:15:51.2597806-05:00","dependencies":[{"issue_id":"ultrawave-lme","depends_on_id":"ultrawave-148","type":"blocks","created_at":"2026-01-15T10:16:34.5475717-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-mc9","title":"Implement sample loading and management system","description":"Implement the sample loading and management system.\n\n## Responsibilities\n- Load audio files (WAV, AIFF, FLAC)\n- Convert to internal 12-bit mono format\n- Manage sample memory pool\n- Provide sample browser interface data\n\n## Supported Formats\n- WAV: 16/24/32-bit, any sample rate\n- AIFF: 16/24-bit\n- FLAC: lossless compression\n\n## Sample Processing Pipeline\n1. Load file using audio decoder\n2. Convert to mono (sum L+R or select channel)\n3. Resample to 44.1kHz if needed\n4. Quantize to 12-bit range\n5. Store in SampleBuffer\n\n## Memory Management\n- Track total memory usage\n- Support sample hot-swapping\n- Handle memory pressure gracefully\n\n## Technical Requirements\n- Non-blocking load (background thread)\n- Progress reporting for large files\n- Error handling for corrupt files\n\n## Acceptance Criteria\n- [ ] Load WAV files up to 32-bit float\n- [ ] Automatic mono conversion\n- [ ] Resampling to 44.1kHz\n- [ ] 12-bit quantization applied\n- [ ] Memory usage tracking\n- [ ] Load progress callback\n- [ ] Graceful handling of invalid files\n- [ ] Unit tests for format conversion","acceptance_criteria":"Successfully loads and plays various audio formats. Handles large sample files without memory issues. Sample switching is seamless without audio glitches. Memory usage stays within reasonable limits.","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":240,"created_at":"2026-01-14T22:08:43.0173714-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:18:18.5408782-05:00","dependencies":[{"issue_id":"ultrawave-mc9","depends_on_id":"ultrawave-b61","type":"blocks","created_at":"2026-01-14T22:08:43.0194739-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-meu","title":"Implement LFO and modulation system","description":"Implement LFO and modulation system for parameter automation.\n\n## MVP Scope (Single LFO per Machine)\n\nFor MVP, implement one LFO per machine with basic waveforms:\n- Sine, Triangle, Square, Sawtooth, Random\n\n### LFO Parameters\n\n| Parameter | Range | Description |\n|-----------|-------|-------------|\n| RATE | 0-127 | LFO speed (tempo-synced) |\n| DEPTH | 0-127 | Modulation intensity |\n| WAVE | 0-4 | Waveform selection |\n| DEST | 0-N | Modulation destination |\n\n### Tempo-Synced Rate Table\n\n| Value | Division |\n|-------|----------|\n| 16 | 1/1 bar |\n| 8 | 1/2 bar |\n| 4 | 1/4 bar |\n| 2 | 1/8 bar |\n| 1 | 1/16 bar |\n\n### LFO Implementation\n\n```rust\npub struct Lfo {\n    phase: f64,        // 0.0 to 1.0\n    rate: f64,         // Hz\n    depth: f32,        // 0.0 to 1.0\n    waveform: Waveform,\n}\n\nimpl Lfo {\n    pub fn process(\u0026mut self, sample_rate: f32) -\u003e f32 {\n        let output = match self.waveform {\n            Waveform::Sine =\u003e (self.phase * TAU).sin(),\n            Waveform::Triangle =\u003e 1.0 - 4.0 * (self.phase - 0.5).abs(),\n            Waveform::Square =\u003e if self.phase \u003c 0.5 { 1.0 } else { -1.0 },\n            Waveform::Sawtooth =\u003e 2.0 * self.phase - 1.0,\n            Waveform::Random =\u003e self.random_value,\n        };\n\n        self.phase += self.rate / sample_rate as f64;\n        if self.phase \u003e= 1.0 { self.phase -= 1.0; }\n\n        (output * self.depth) as f32\n    }\n}\n```\n\n### Smoothing (Critical)\n\nApply one-pole filter to LFO output to prevent zipper noise:\n```rust\nfn smooth_lfo(raw: f32, smoothed: \u0026mut f32, coeff: f32) -\u003e f32 {\n    *smoothed = *smoothed + coeff * (raw - *smoothed);\n    *smoothed\n}\n// coeff ≈ 1.0 - exp(-1.0 / (sample_rate * time_constant))\n// time_constant ≈ 0.005 (5ms) for ~300Hz cutoff\n```\n\n## Post-MVP: Full 16-LFO System\n\n- Dual waveform generators (SHP1 + SHP2)\n- LFO-to-LFO modulation\n- Per-track routing\n- 128 phase positions\n\n## Acceptance Criteria\n\n### MVP\n- [ ] LFO generates all 5 basic waveforms correctly\n- [ ] RATE correctly syncs to host tempo\n- [ ] DEPTH 0 = no modulation, DEPTH 127 = full range\n- [ ] LFO can modulate FLTF (filter cutoff)\n- [ ] LFO can modulate PITCH\n- [ ] LFO can modulate VOL\n- [ ] Output is smoothed (no zipper noise audible)\n- [ ] Unit test: waveform shapes match expected output\n\n### Post-MVP\n- [ ] 16 independent LFOs\n- [ ] Dual waveform mixing (SHP1 + SHP2)\n- [ ] Any-to-any modulation routing","acceptance_criteria":"LFO waveforms are accurate and smooth. Rate control covers full range from slow to audio rate. Modulation assignments work for all target parameters. Parameter changes are smooth without zipper noise.","status":"open","priority":3,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":360,"created_at":"2026-01-14T22:09:08.0463963-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T21:54:20.2767243-05:00","dependencies":[{"issue_id":"ultrawave-meu","depends_on_id":"ultrawave-b61","type":"blocks","created_at":"2026-01-14T22:09:08.0485661-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-mho","title":"Implement core sample playback engine","description":"Implement the core 12-bit sample playback engine matching Machinedrum UW behavior.\n\n## Technical Specification\n\n### Playback Algorithm\n```rust\npub struct SampleEngine {\n    buffer: Vec\u003ci16\u003e,          // 16-bit storage\n    position: f64,             // Fractional position\n    rate: f64,                 // Playback rate (1.0 = original)\n    start_sample: usize,       // Start point\n    end_sample: usize,         // End point\n}\n\nimpl SampleEngine {\n    pub fn process(\u0026mut self) -\u003e f32 {\n        let i = self.position as usize;\n        let frac = self.position - i as f64;\n\n        // Linear interpolation (ELEKTRON confirmed method)\n        let s0 = self.buffer[i] as f64;\n        let s1 = self.buffer[i + 1] as f64;\n        let interpolated = s0 * (1.0 - frac) + s1 * frac;\n\n        // 12-bit quantization (characteristic MD UW sound)\n        let quantized = (interpolated / 16.0).round() * 16.0;\n\n        self.position += self.rate;\n        (quantized / 32768.0) as f32\n    }\n}\n```\n\n### 12-bit Quantization\n- Store as 16-bit, quantize output to 12-bit\n- Formula: `(sample / 16.0).round() * 16.0` (keeps bottom 4 bits as 0)\n- This adds the characteristic \"grit\" of MD UW\n\n### Linear Interpolation\n- Required for authentic behavior (confirmed by spectrogram analysis)\n- 26dB sidelobe suppression (not ideal, but authentic)\n- Do NOT use sinc/cubic for core playback\n\n### Parameter Mapping (0-127 → actual values)\n- STRT: `buffer_len * (param / 127.0)`\n- END: `buffer_len * (param / 127.0)`\n- PITCH: `2.0.powf((param - 64) / 64.0)` (64 = 1x, 127 ≈ 2x, 0 ≈ 0.5x)\n\n## Acceptance Criteria\n\n- [ ] SampleEngine struct with position, rate, buffer reference\n- [ ] Linear interpolation produces correct output (test with known input)\n- [ ] 12-bit quantization measurable in output (LSB patterns)\n- [ ] STRT/END map 0-127 to buffer positions correctly\n- [ ] PITCH 64 = original speed (±0.1% tolerance)\n- [ ] PITCH 127 ≈ 2x speed (±5% tolerance)\n- [ ] PITCH 0 ≈ 0.5x speed (±5% tolerance)\n- [ ] No clicks at sample boundaries (implement micro-fade)\n- [ ] CPU usage \u003c 0.5% per voice at 44.1kHz\n- [ ] Unit tests pass for interpolation accuracy","acceptance_criteria":"Sample playback is sample-accurate and glitch-free. Start/stop points work correctly. Pitch control functions properly. Basic envelope shapes implemented. Parameter changes are smooth without artifacts.","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":360,"created_at":"2026-01-14T22:08:47.7694185-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T21:52:25.0234394-05:00","dependencies":[{"issue_id":"ultrawave-mho","depends_on_id":"ultrawave-mc9","type":"blocks","created_at":"2026-01-14T22:08:47.7710196-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-p05","title":"Performance optimization and testing","description":"Performance optimization and comprehensive testing.\n\n## Performance Targets\n- Single instance CPU: \u003c 5% on modern hardware\n- Latency: \u003c 10ms round-trip\n- Memory: \u003c 50MB baseline + sample buffers\n\n## Optimization Areas\n\n### 1. DSP Optimization\n- SIMD for filter/effect processing\n- Avoid allocations in audio thread\n- Profile and optimize hot paths\n\n### 2. Memory Optimization\n- Efficient buffer management\n- Minimize copying\n- Pool allocations\n\n### 3. GUI Optimization\n- Reduce redraw frequency\n- Batch updates\n- Lazy rendering\n\n## Testing Requirements\n\n### Unit Tests\n- [ ] All DSP functions tested\n- [ ] Parameter ranges validated\n- [ ] Edge cases covered\n\n### Integration Tests\n- [ ] Plugin loads in test host\n- [ ] Parameters automate correctly\n- [ ] State save/load works\n\n### Performance Tests\n- [ ] CPU usage benchmarked\n- [ ] Memory usage tracked\n- [ ] Latency measured\n\n## Acceptance Criteria\n- [ ] All unit tests pass\n- [ ] CPU \u003c 5% for single instance (measured)\n- [ ] No memory leaks (valgrind/heaptrack clean)\n- [ ] Latency \u003c 10ms measured\n- [ ] Stress test: 100 note polyphony stable\n- [ ] 24-hour stability test passes","acceptance_criteria":"Plugin meets CPU usage targets (\u003c5% single instance on modern CPU). Memory usage is optimized and stable. All tests pass. Plugin runs stably in major DAWs for extended periods. No memory leaks detected.","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":360,"created_at":"2026-01-14T22:09:35.4733205-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:19:13.5671306-05:00","dependencies":[{"issue_id":"ultrawave-p05","depends_on_id":"ultrawave-1uf","type":"blocks","created_at":"2026-01-14T22:09:35.4754097-05:00","created_by":"Jeff Lynn"},{"issue_id":"ultrawave-p05","depends_on_id":"ultrawave-d6n","type":"blocks","created_at":"2026-01-14T22:09:35.4775255-05:00","created_by":"Jeff Lynn"},{"issue_id":"ultrawave-p05","depends_on_id":"ultrawave-58d","type":"blocks","created_at":"2026-01-14T22:09:35.4790943-05:00","created_by":"Jeff Lynn"},{"issue_id":"ultrawave-p05","depends_on_id":"ultrawave-meu","type":"blocks","created_at":"2026-01-14T22:09:35.4812006-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-p4e","title":"Implement MIDI note handling and mapping","description":"Implement MIDI note handling and parameter mapping.\n\n## MIDI Features Required\n\n### 1. Note Triggering\n- MIDI notes trigger sample playback\n- Velocity affects volume (0-127 → 0-100%)\n- Note-off handling for envelopes\n\n### 2. Note-to-Machine Mapping\n- Each MIDI channel can map to a machine\n- Or: MIDI note ranges select different machines\n- Configurable in plugin settings\n\n### 3. Parameter Automation via CC\n| CC# | Parameter |\n|-----|-----------|\n| 1 | Mod wheel (assignable) |\n| 7 | Volume |\n| 10 | Pan |\n| 74 | Filter cutoff |\n| 71 | Resonance |\n\n### 4. Pitch Bend\n- Pitch bend affects playback rate\n- Range: ±2 semitones (configurable)\n\n## Technical Requirements\n- Sample-accurate note timing\n- Polyphony handling (voice stealing)\n- Running status support\n\n## Acceptance Criteria\n- [ ] MIDI notes trigger correct machines\n- [ ] Velocity scales volume correctly\n- [ ] Note-off releases envelope\n- [ ] CC automation works for mapped params\n- [ ] Pitch bend affects pitch correctly\n- [ ] No stuck notes\n- [ ] Polyphony works up to 16 voices","acceptance_criteria":"MIDI notes trigger samples with accurate timing. Velocity affects volume/envelope. CC parameters map correctly. MPE support for advanced controllers. MIDI timing is sample-accurate.","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":180,"created_at":"2026-01-14T22:11:39.5903452-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:19:49.2559788-05:00","dependencies":[{"issue_id":"ultrawave-p4e","depends_on_id":"ultrawave-428","type":"blocks","created_at":"2026-01-14T22:11:39.5925058-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-prr","title":"Quality assurance and beta testing","description":"Quality assurance and testing infrastructure for Ultrawave plugin.\n\n## Testing Infrastructure\n\n### Unit Tests (Rust)\n\n```rust\n// tests/dsp_tests.rs\nuse audio_processor_testing_helpers::assert_f_eq;\nuse approx::assert_relative_eq;\n\n#[test]\nfn test_linear_interpolation() {\n    let engine = SampleEngine::new(\u0026[0.0, 1.0, 0.0, -1.0]);\n    engine.set_position(0.5);\n    assert_relative_eq!(engine.process(), 0.5, epsilon = 1e-6);\n}\n\n#[test]\nfn test_12bit_quantization() {\n    let input = 0.123456789;\n    let quantized = quantize_12bit(input);\n    // 12-bit has 4096 levels, so step size is ~0.00024\n    assert!((quantized - input).abs() \u003c 0.0003);\n}\n\n#[test]\nfn test_filter_slope() {\n    let mut filter = ResonantFilter::new(44100.0);\n    filter.set_cutoff(1000.0);\n    let spectrum = analyze_impulse_response(\u0026mut filter);\n    // Verify -24dB at 2x cutoff\n    let slope = calculate_slope_db(\u0026spectrum, 1000.0, 2000.0);\n    assert!(slope \u003c -21.0 \u0026\u0026 slope \u003e -27.0);\n}\n```\n\n### Plugin Validation (CI)\n\n```yaml\n# .github/workflows/test.yml\nname: Test\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v4\n    - uses: dtolnay/rust-toolchain@stable\n\n    - name: Unit tests\n      run: cargo test --release\n\n    - name: Build plugin\n      run: cargo xtask bundle ultrawave --release\n\n    - name: Validate CLAP\n      run: |\n        wget -q https://github.com/free-audio/clap-validator/releases/latest/download/clap-validator-linux.tar.gz\n        tar xf clap-validator-linux.tar.gz\n        ./clap-validator validate target/bundled/ultrawave.clap\n\n  test-windows:\n    runs-on: windows-latest\n    steps:\n    - uses: actions/checkout@v4\n    - uses: dtolnay/rust-toolchain@stable\n    - name: Build\n      run: cargo xtask bundle ultrawave --release\n\n  test-macos:\n    runs-on: macos-latest\n    steps:\n    - uses: actions/checkout@v4\n    - uses: dtolnay/rust-toolchain@stable\n    - name: Build\n      run: cargo xtask bundle ultrawave --release\n```\n\n### DAW Compatibility Testing (Manual)\n\n| DAW | Platform | Test |\n|-----|----------|------|\n| Ableton Live 12 | Win/Mac | Load, automate, render |\n| Reaper | Win/Mac/Linux | Load, automate, render |\n| Bitwig Studio | Win/Mac/Linux | Load, automate, render |\n| FL Studio | Win | Load, automate, render |\n| Logic Pro | Mac | Load, automate, render |\n\n### Golden File Testing\n\n```rust\n#[test]\nfn test_kick_pattern_output() {\n    let mut plugin = Ultrawave::new(44100.0);\n    plugin.load_reference_sample(\"test_data/kick.wav\");\n    plugin.trigger(60, 127); // Note C3, velocity 127\n\n    let output = plugin.render_samples(44100); // 1 second\n\n    let expected = load_wav(\"test_references/kick_output.wav\");\n    assert_audio_similar(\u0026output, \u0026expected, -60.0);\n}\n```\n\n## Acceptance Criteria\n\n- [ ] `cargo test` passes with 0 failures\n- [ ] Unit tests cover: interpolation, quantization, filter response\n- [ ] `clap-validator validate ultrawave.clap` exits with code 0\n- [ ] `pluginval --strictness-level 5 ultrawave.vst3` exits with code 0\n- [ ] GitHub Actions CI passes on all 3 platforms\n- [ ] Manual DAW testing checklist completed for 3+ DAWs\n- [ ] No crashes during 1-hour stress test (rapid parameter changes)\n- [ ] Memory usage stable (no leaks) over extended operation\n- [ ] CPU usage \u003c 5% at 44.1kHz (single instance, 8 voices)","acceptance_criteria":"Plugin passes all automated tests. Compatible with all major DAWs. No audio artifacts or stability issues. Performance meets targets. Beta tester feedback incorporated.","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":480,"created_at":"2026-01-14T22:11:44.6944954-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T21:53:59.908046-05:00","dependencies":[{"issue_id":"ultrawave-prr","depends_on_id":"ultrawave-p05","type":"blocks","created_at":"2026-01-14T22:11:44.6972389-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-r3p","title":"Documentation and release preparation","description":"Documentation and release preparation.\n\n## Documentation Deliverables\n\n### 1. User Manual (docs/manual.md)\n- Installation instructions\n- Getting started guide\n- Parameter reference (all machines)\n- Tutorial: Basic recording workflow\n- Tutorial: Advanced techniques\n- Troubleshooting FAQ\n\n### 2. Technical Documentation (docs/technical.md)\n- Architecture overview\n- API reference (if applicable)\n- Build instructions\n- Contributing guidelines\n\n### 3. Release Assets\n- README.md with badges and quick start\n- CHANGELOG.md\n- LICENSE (MIT)\n\n## Release Checklist\n\n### Pre-Release\n- [ ] All tests pass\n- [ ] Version number updated\n- [ ] Changelog updated\n- [ ] Documentation complete\n\n### Build\n- [ ] Windows VST3 built\n- [ ] Windows CLAP built\n- [ ] macOS VST3 built (Universal)\n- [ ] macOS CLAP built (Universal)\n- [ ] Linux VST3 built\n- [ ] Linux CLAP built\n\n### Distribution\n- [ ] GitHub release created\n- [ ] Binaries attached to release\n- [ ] Release notes written\n- [ ] Announcement drafted\n\n## Acceptance Criteria\n- [ ] User manual covers all features\n- [ ] Installation works from docs alone\n- [ ] All platforms have working binaries\n- [ ] GitHub release published\n- [ ] No broken links in documentation\n- [ ] Changelog follows keep-a-changelog format","acceptance_criteria":"User manual covers all features completely. Installation process is straightforward for all platforms. Release builds are tested and stable. Demo content showcases plugin capabilities effectively.","status":"open","priority":3,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":360,"created_at":"2026-01-14T22:09:39.8587316-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:19:18.4291467-05:00","dependencies":[{"issue_id":"ultrawave-r3p","depends_on_id":"ultrawave-p05","type":"blocks","created_at":"2026-01-14T22:09:39.8608657-05:00","created_by":"Jeff Lynn"},{"issue_id":"ultrawave-r3p","depends_on_id":"ultrawave-prr","type":"blocks","created_at":"2026-01-14T22:11:53.2673519-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-s7m","title":"Setup project structure and dependencies","description":"Initialize Rust project with nih-plugin framework and establish the project structure.\n\n## Cargo.toml Configuration\n\n```toml\n[package]\nname = \"ultrawave\"\nversion = \"0.1.0\"\nedition = \"2021\"\nauthors = [\"EphemeralDSP\"]\nlicense = \"MIT\"\ndescription = \"Elektron Machinedrum UW RAM machine emulation\"\n\n[lib]\ncrate-type = [\"cdylib\"]\n\n[dependencies]\nnih_plug = { git = \"https://github.com/robbert-vdh/nih-plug.git\" }\nnih_plug_vizia = { git = \"https://github.com/robbert-vdh/nih-plug.git\" }\n\n# DSP\nrubato = \"1.0\"\nsynfx-dsp = \"0.5\"\nbiquad = \"0.4\"\nhound = \"3.5\"\ndasp_sample = \"0.11\"\n\n[dev-dependencies]\naudio-processor-testing-helpers = \"2.7\"\napprox = \"0.5\"\n\n[profile.release]\nlto = \"thin\"\nstrip = \"symbols\"\n```\n\n## Directory Structure\n\n```\nultrawave/\n├── Cargo.toml\n├── src/\n│   ├── lib.rs           # Plugin entry point, nih_export_clap!/vst3!\n│   ├── params.rs        # Parameter definitions (all 0-127 ranges)\n│   ├── dsp/\n│   │   ├── mod.rs\n│   │   ├── sample_engine.rs   # 12-bit playback with linear interp\n│   │   ├── filter.rs          # 24dB resonant filter wrapper\n│   │   └── effects.rs         # SRR, distortion\n│   └── machines/\n│       ├── mod.rs\n│       ├── ram_record.rs      # R1-R4 recording logic\n│       └── ram_play.rs        # P1-P4 playback logic\n├── .github/\n│   └── workflows/\n│       └── build.yml    # CI/CD with clap-validator\n└── tests/\n    └── integration.rs\n```\n\n## Acceptance Criteria\n\n- [ ] `cargo build --release` succeeds with no errors or warnings\n- [ ] `cargo xtask bundle ultrawave --release` generates .clap and .vst3\n- [ ] All directory structure matches specification\n- [ ] Cargo.toml uses nih_plug_vizia (NOT egui or iced)\n- [ ] Cargo.toml includes all DSP dependencies (rubato, synfx-dsp, biquad)\n- [ ] `cargo test` runs (even if tests are empty stubs)\n- [ ] Plugin loads in CLAP host (use clap-info or similar)","status":"closed","priority":1,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":120,"created_at":"2026-01-14T22:08:21.3363412-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T22:49:02.1601094-05:00","closed_at":"2026-01-15T22:49:02.1601094-05:00","close_reason":"Closed","dependencies":[{"issue_id":"ultrawave-s7m","depends_on_id":"ultrawave-0dc","type":"blocks","created_at":"2026-01-15T10:12:33.1803527-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-t2i","title":"Implement RAM PLAY machine parameters (ROM 25-48 compatible)","description":"Implement RAM PLAY (P1-P4) parameters - must function EXACTLY like ROM machines 25-48.\n\n## Parameters (identical to ROM 25-48)\n| Parameter | Range | Description |\n|-----------|-------|-------------|\n| STRT | 0-127 | Sample start point |\n| END | 0-127 | Sample end point |\n| RTRG | 0-127 | Retrigger rate |\n| RTIM | 0-127 | Retrigger time |\n| HOLD | 0-127 | Hold time before decay |\n| BRR | 0-127 | Bit rate reduction |\n| STRT | 0-127 | Start position (P-lockable) |\n| PITCH | 0-127 | Pitch/sample rate (64=original) |\n\n## Track Effects (per RAM PLAY)\nAll track effects from ROM machines must work:\n- Amplitude Modulation (AMM)\n- 1-Band EQ\n- Resonant Filter (24dB LP/BP/HP)\n- Sample Rate Reduction (SRR)\n- Distortion (DIST)\n\n## Acceptance Criteria\n- [ ] RamPlayParams struct with all ROM 25-48 parameters\n- [ ] All parameters exposed to DAW automation\n- [ ] Parameters can be P-locked (per-step values)\n- [ ] LFO modulation targets available for all params\n- [ ] Track effects apply correctly","status":"open","priority":1,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","created_at":"2026-01-15T10:15:34.2484308-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:15:34.2484308-05:00","dependencies":[{"issue_id":"ultrawave-t2i","depends_on_id":"ultrawave-3fu","type":"blocks","created_at":"2026-01-15T10:16:28.8696932-05:00","created_by":"Jeff Lynn"}]}
{"id":"ultrawave-vzo","title":"Implement ultrawave VST/CLAP plugin - Elektron Machinedrum UW emulation","description":"# Ultrawave VST/CLAP Plugin - Elektron Machinedrum UW Emulation\n\nCreate a professional Rust-based VST3/CLAP plugin using nih-plug that accurately emulates the Elektron Machinedrum UW RAM RECORD and RAM PLAY machines.\n\n## MVP Scope (v0.1.0)\n\n**Core Features**:\n- RAM RECORD machines (R1-R4) with full ELEKTRON appendix A-15 parameters\n- RAM PLAY machines (P1-P4) functioning like ROM machines 25-48\n- 12-bit sample playback engine with linear interpolation\n- 24dB resonant filter (LP/BP/HP) using synfx-dsp\n- Basic LFO modulation (one LFO per machine)\n- Sample Rate Reduction (SRR 0-127)\n- MIDI note triggering\n\n**Out of Scope for MVP**:\n- Octatrack-style time-stretching (NORMAL/BEAT algorithms)\n- Full 16-LFO system with dual-waveform generators\n- Master effects (delay, reverb, compressor)\n- Custom GUI (use GenericUi initially)\n\n## Technical Stack\n\n- **Framework**: nih-plug (VST3/CLAP)\n- **GUI**: VIZIA (nih_plug_vizia) - NOT egui/iced\n- **Resampling**: rubato (linear mode for authenticity)\n- **Filters**: synfx-dsp (Stilson/Moog 24dB ladder)\n- **Testing**: clap-validator, pluginval, audio-processor-testing-helpers\n\n## Success Criteria (MVP)\n\n1. **Plugin loads** in Ableton Live, Reaper, and Bitwig without crashes\n2. **RAM RECORD** captures audio from plugin inputs\n3. **RAM PLAY** plays back recorded samples with pitch control\n4. **Filter** provides authentic 24dB/octave LP/BP/HP with resonance\n5. **All 0-127 parameters** map correctly per ELEKTRON spec\n6. **CPU usage** \u003c 5% for single instance on modern hardware\n7. **clap-validator** and **pluginval --strictness-level 5** pass\n\n## Deliverables\n\n- [ ] VST3 and CLAP binaries (Windows, macOS, Linux)\n- [ ] Basic factory presets demonstrating RAM machine workflows\n- [ ] README with setup and usage instructions\n- [ ] CI/CD pipeline with automated testing","status":"open","priority":0,"issue_type":"epic","owner":"4128043+jefffm@users.noreply.github.com","created_at":"2026-01-14T22:08:10.6480093-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T21:51:35.1401155-05:00"}
{"id":"ultrawave-zry","title":"Implement audio routing and mixing system","description":"Implement audio routing and mixing system.\n\n## Routing Architecture\n\n### Per-Machine Routing\n```\nMachine Output → Track Effects → Pan → Volume → Send 1/2 → Main Bus\n                                              ↓\n                                        Effect Returns\n```\n\n### Send System\n- Send 1: To Delay (Rhythm Echo)\n- Send 2: To Reverb (Gatebox)\n- Pre/post fader option\n\n### Master Section\n- Stereo main bus\n- Master volume\n- Limiter (optional)\n\n## Parameters Per Track\n| Parameter | Range | Description |\n|-----------|-------|-------------|\n| VOL | 0-127 | Track volume |\n| PAN | 0-127 | Stereo pan (64=center) |\n| SND1 | 0-127 | Send 1 level |\n| SND2 | 0-127 | Send 2 level |\n\n## Master Effects (separate tasks)\n- Delay: ultrawave-58d\n- Reverb: ultrawave-58d\n- Compressor (Dynamix): ultrawave-58d\n- Master EQ: ultrawave-58d\n\n## Technical Requirements\n- Proper gain staging\n- No clipping on summing\n- Smooth parameter changes\n\n## Acceptance Criteria\n- [ ] 8 machines route to main bus correctly\n- [ ] Pan law implemented (equal power or linear)\n- [ ] Send levels work correctly\n- [ ] No clipping on loud material\n- [ ] Volume changes are smooth\n- [ ] Stereo imaging correct","acceptance_criteria":"Audio routing is flexible and intuitive. Pan and level controls work correctly. Signal chain maintains proper gain staging. Stereo processing is accurate and artifact-free.","status":"open","priority":2,"issue_type":"task","owner":"4128043+jefffm@users.noreply.github.com","estimated_minutes":120,"created_at":"2026-01-14T22:11:42.2364916-05:00","created_by":"Jeff Lynn","updated_at":"2026-01-15T10:19:51.6719284-05:00","dependencies":[{"issue_id":"ultrawave-zry","depends_on_id":"ultrawave-mho","type":"blocks","created_at":"2026-01-14T22:11:42.2381026-05:00","created_by":"Jeff Lynn"}]}
